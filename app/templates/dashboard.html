{% extends "base.html" %}
{% block content %}
<section class="panel hero">
  <h1>Live Routing Metrics</h1>
  <p>Track tier distribution, cache hit rate, and estimated electrical savings vs all-cloud baseline.</p>
</section>

<section class="panel dashboard-grid">
  <div class="metric-card"><div class="metric-label">Total Requests</div><div class="metric-value" id="m-total">0</div></div>
  <div class="metric-card"><div class="metric-label">Cache Hits</div><div class="metric-value" id="m-cache">0</div></div>
  <div class="metric-card"><div class="metric-label">Escalations</div><div class="metric-value" id="m-escalations">0</div></div>
  <div class="metric-card"><div class="metric-label">Avg Latency</div><div class="metric-value" id="m-latency">0 ms</div></div>
  <div class="metric-card"><div class="metric-label">Energy Used</div><div class="metric-value" id="m-energy">0 kWh</div></div>
  <div class="metric-card emphasis"><div class="metric-label">Energy Saved</div><div class="metric-value" id="m-saved">0 kWh</div></div>
</section>

<section class="panel split">
  <div>
    <h3>Tier Mix</h3>
    <div class="bars">
      <div class="bar-row"><span>Search</span><div class="bar"><i id="b1"></i></div><span id="t1">0</span></div>
      <div class="bar-row"><span>Local</span><div class="bar"><i id="b2"></i></div><span id="t2">0</span></div>
      <div class="bar-row"><span>Cloud</span><div class="bar"><i id="b3"></i></div><span id="t3">0</span></div>
    </div>
  </div>
  <div>
    <h3>Recent Requests</h3>
    <div id="recent" class="recent-list">No requests yet.</div>
  </div>
</section>

<script src="/static/js/metrics.js?v=20260215c"></script>
{% endblock %}
